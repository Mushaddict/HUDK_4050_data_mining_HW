jcpd$geo.count[i] = 1
}
i <- i + 1
}
jcpd$geo.count
num = ""
i <- 1
for(num in jcpd$geo_count) {
if(is.na(num)) {
jcpd$geo.count[i] = 1
}
i <- i + 1
}
old_name <- colnames(jcpd)
new_name <- gsub("[.]", "_", old_name)
names(jcpd) <- new_name
num = ""
i <- 1
for(num in jcpd$geo_count) {
if(is.na(num)) {
jcpd$geo.count[i] = 1
}
i <- i + 1
}
# num = ""
# i <- 1
# for(num in jcpd$geo_count) {
#     if(is.na(num)) {
#         jcpd$geo.count[i] = 1
#    }
#    i <- i + 1
# }
# jcpd$geo_count
jcpd$geo_count[is.na(jcpd$geo_count)] <- 1
jcpd$geo_count
# num = ""
# i <- 1
# for(num in jcpd$geo_count) {
#     if(is.na(num)) {
#         jcpd$geo.count[i] = 1
#    }
#    i <- i + 1
# }
# jcpd$geo_count
jcpd$geo_count[is.na(jcpd$geo_count)] <- 1
jcpd$geo_count[is.an(jcpd$geo_count)]
# num = ""
# i <- 1
# for(num in jcpd$geo_count) {
#     if(is.na(num)) {
#         jcpd$geo.count[i] = 1
#    }
#    i <- i + 1
# }
# jcpd$geo_count
jcpd$geo_count[is.na(jcpd$geo_count)] <- 1
jcpd$geo_count[is.na(jcpd$geo_count)]
write.csv(jcpd, "jcpd.csv")
getwd()
setwd("/Users/anshijie/Desktop/D/CU TC/HUDK 4050 data mining/HUDK_4050_data_mining_HW")
write.csv(jcpd, "jcpd.csv")
# num = ""
# i <- 1
# for(num in jcpd$geo_count) {
#     if(is.na(num)) {
#         jcpd$geo.count[i] = 1
#    }
#    i <- i + 1
# }
# jcpd$geo_count
jcpd$geo_count[is.na(jcpd$geo_count)] <- 1
jcpd$geo_count[!is.na(jcpd$geo_count)]
a <- c(1, 2, 3, 4, 5, "Na", 6)
a[TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE]
a[TRUE, TRUE, TRUE, TRUE, TRUE, TRUE]
a[TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE]
a[TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE]
sum(is.na(jcpd))
# num = ""
# i <- 1
# for(num in jcpd$geo_count) {
#     if(is.na(num)) {
#         jcpd$geo.count[i] = 1
#    }
#    i <- i + 1
# }
# jcpd$geo_count
jcpd$geo_count[is.na(jcpd$geo_count)] <- 1
jcpd$geo_count[!is.na(jcpd$geo_count)]
# num = ""
# i <- 1
# for(num in jcpd$geo_count) {
#     if(is.na(num)) {
#         jcpd$geo.count[i] = 1
#    }
#    i <- i + 1
# }
# jcpd$geo_count
jcpd$geo_count[is.na(jcpd$geo_count)] <- 1
jcpd$geo_count[is.na(jcpd$geo_count)]
jcpd["geo_count"]
jcpd[is.nan(jcpd)]
sum(is.nan(jcpd))
?is.nan
is.null(jcpd)
jcpd[is.null(jcpd)]
library(dplyr)
jcpd %>%
arrange(desc(jcpd$call_type))
library(dplyr)
jcpd %>%
distinct(colnames(jcpd))
?distinct
library(dplyr)
jcpd %>%
distinct(jcpd)
library(dplyr)
jcpd %>%
distinct(.keep_all = TRUE)
nomissing <- na.omit(jcpd)
nomissing <- na.omit(jcpd)
nomissing
sum(duplicated(jcpd))
?filter
?dplyr::filter
jcpd911 <-  jcpd %>%
filter(call_type == 911)
head(jcpd911)
jcpd911 <-  jcpd %>%
filter(call_type == 911)
jcpd911
jcpd911 <-  jcpd %>%
filter(call_type == 911)
jcpd911
jcpd911 <-  jcpd %>%
filter(call_type == 911)
head(jcpd911)
?strptime
jcpd %>%
mutate(dispatch_duration = strptime(time_received) - strptime(time_dispatched))
strptime("2017-07-10 23:08:00-04:00", format = "%Y-%m-%d %X %z")
strptime("2017-07-10 23:08:00-04:00", format = "%Y-%m-%d %X%z")
strftime("2017-07-10 23:08:00-04:00", format = "%Y-%m-%d %X%z")
typeof(strftime("2017-07-10 23:08:00-04:00", format = "%Y-%m-%d %X%z"))
typeof("2017-07-10 23:08:00-04:00", format = "%Y-%m-%d %X%z")
typeof("2017-07-10 23:08:00-04:00")
strftime("2017-07-10 23:08:00-04:00", format = "%Y-%m-%d %X")
strftime("2017-04-02 18:54:00-04:00","%y/%m/%d %H:%M:%S")
strftime("2017-04-02 18:54:00-04:00","%y/%m/%d %X")
strftime("2017-04-02 18:54:00-04:00","%y-%m-%d %H:%M:%S")
receive -> strftime(jcpd$time_received, "%y-%m-%d %H:%M:%S")
receive <- strftime(jcpd$time_received, "%y-%m-%d %H:%M:%S")
dispatch <- strftime(jcpd$time_dispatched, "%y-%m-%d %H:%M:%S")
length(receive)
length(dispathc)
length(dispatch)
duration <- receive - dispatch
reccccc <- strptime(receive)
reccccc <- strptime(receive, "%y-%m-%d %H:%M:%S")
reccccc[1]
typeof(reccccc[1])
dissss <- strptime(dispatch, "%y-%m-%d %H:%M:%S")
duration <- reccccc - dissss
duration[1]
receive <- strftime(jcpd$time_received, "%y-%m-%d %H:%M:%S")
dispatch <- strftime(jcpd$time_dispatched, "%y-%m-%d %H:%M:%S")
new_receive <- strptime(receive)
receive <- strftime(jcpd$time_received, "%y-%m-%d %H:%M:%S")
dispatch <- strftime(jcpd$time_dispatched, "%y-%m-%d %H:%M:%S")
new_receive <- strptime(receive, "%y-%m-%d %H:%M:%S")
new_dispatch <- strptime(dispatch, "%y-%m-%d %H:%M:%S")
receive <- strftime(jcpd$time_received, "%y-%m-%d %H:%M:%S")
dispatch <- strftime(jcpd$time_dispatched, "%y-%m-%d %H:%M:%S")
new_receive <- strptime(receive, "%y-%m-%d %H:%M:%S")
new_dispatch <- strptime(dispatch, "%y-%m-%d %H:%M:%S")
dispatch_duration <- new_receive - new_dispatch
receive <- strftime(jcpd$time_received, "%y-%m-%d %H:%M:%S")
dispatch <- strftime(jcpd$time_dispatched, "%y-%m-%d %H:%M:%S")
new_receive <- strptime(receive, "%y-%m-%d %H:%M:%S")
new_dispatch <- strptime(dispatch, "%y-%m-%d %H:%M:%S")
dispatch_duration <- new_dispatch - new_receive
dispatch_duration
sum(is.na(dispatch_duration))
# dispatch_duration
jcpd <- jcpd %>%
mutate(dispatch_duration)
colnames(jcpd)
sum(is.na(jcpd))
sum(is.na(jcpd))
sum(is.na(jcpd$dispatch_duration))
a <- 0
a <- append(a, 1)
a
a <- c()
a
a <- append(a, 1)
a
which(jcpd[2, 2])
dim(jcpd)[1]
which(jcpd[2, 2])
which(jcpd$dispatch_duration <= 0)
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
delete
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
jcpd[-c(delete), ]
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
jcpd <- jcpd[-c(delete), ]
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
jcpd <- jcpd[-c(delete), ]
jcpd
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
jcpd <- jcpd[-c(delete), ]
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
jcpd <- jcpd[-c(delete), ]
jcpd
# jcpd <- read.csv("D:/CU TC/hudk 4050 data mining/HUDK_4050_data_mining_HW/jcpd-calls-for-service.csv")
# path <- paste("D:/CU TC/hudk 4050 data mining/",
#               "HUDK_4050_data_mining_HW/jcpd-calls-for-service.csv",
#               sep = "")
# jcpd <- read.csv(path)
path2 <- paste(getwd(),
"/jcpd-calls-for-service.csv",
sep = "")
# path2 <- "jcpd-calls-for-service.csv"
jcpd <- read.csv(path2)
old_name <- colnames(jcpd)
new_name <- gsub("[.]", "_", old_name)
names(jcpd) <- new_name
# num = ""
# i <- 1
# for(num in jcpd$geo_count) {
#     if(is.na(num)) {
#         jcpd$geo.count[i] = 1
#    }
#    i <- i + 1
# }
# jcpd$geo_count
jcpd$geo_count[is.na(jcpd$geo_count)] <- 1
jcpd$geo_count[is.na(jcpd$geo_count)]
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
jcpd <- jcpd[-c(delete), ]
jcpd
View(jcpd)
# jcpd <- read.csv("D:/CU TC/hudk 4050 data mining/HUDK_4050_data_mining_HW/jcpd-calls-for-service.csv")
# path <- paste("D:/CU TC/hudk 4050 data mining/",
#               "HUDK_4050_data_mining_HW/jcpd-calls-for-service.csv",
#               sep = "")
# jcpd <- read.csv(path)
path2 <- paste(getwd(),
"/jcpd-calls-for-service.csv",
sep = "")
# path2 <- "jcpd-calls-for-service.csv"
jcpd <- read.csv(path2)
old_name <- colnames(jcpd)
new_name <- gsub("[.]", "_", old_name)
names(jcpd) <- new_name
receive <- strftime(jcpd$time_received, "%y-%m-%d %H:%M:%S")
dispatch <- strftime(jcpd$time_dispatched, "%y-%m-%d %H:%M:%S")
new_receive <- strptime(receive, "%y-%m-%d %H:%M:%S")
new_dispatch <- strptime(dispatch, "%y-%m-%d %H:%M:%S")
dispatch_duration <- new_dispatch - new_receive
# dispatch_duration
jcpd <- jcpd %>%
mutate(dispatch_duration)
sum(is.na(jcpd$dispatch_duration))
delete <- which(jcpd$dispatch_duration <= 0)
jcpd <- jcpd[-c(delete), ]
jcpd
mean <- mean(jcpd$dispatch_duration)
mean
?group_by
unique(jcpd$dispatch_duration)
unique(jcpd$call_type)
unique(jcpd$call_type)
SI_mean <- mean(
jcpd %>%
filter(call_type == "SI")
)
SI_mean
which(is.na(jcpd$call_type))
jcpd %>%
filter(call_type == "SI")
?mean
unique(jcpd$call_type)
SI_mean <-
jcpd %>%
filter(call_type == "SI")
SI_mean
unique(jcpd$call_type)
SI <-
jcpd %>%
filter(call_type == "SI")
SI_mean
unique(jcpd$call_type)
SI <-
jcpd %>%
filter(call_type == "SI")
SI
unique(jcpd$call_type)
SI <-
jcpd %>%
filter(call_type == "SI")
SI_mean <- mean(SI$dispatch_duration)
SI_mean
unique(jcpd$call_type)
## I will use filter to calculate the differnt mean for different call type
SI <- jcpd %>%
filter(call_type == "SI")
SI_mean <- mean(SI$dispatch_duration)
PH <- jcpd %>%
filter(call_type == "PH")
PH_mean <- mean(PH$dispatch_duration)
C911 <- jcpd %>%
filter(call_type == "911")
mean_911 <- mean(C911$dispatch_duration)
MVS <- jcpd %>%
filter(call_type == "MVS")
MVS_mean <- mean(MVS$dispatch_duration)
STA <- jcpd %>%
filter(call_type == "STA")
STA_mean <- mean(STA$dispatch_duration)
IC <- jcpd %>%
filter(call_type == "IC")
IC_mean <- mean(IC$dispatch_duration)
SI_mean
STA_mean
?switch
jcpd[1, 1]
jcpd$call_type[2]
jcpd$dispatch_duration[2]
# unique(jcpd$call_type)
## I will use filter to calculate the differnt mean for different call type
# SI <- jcpd %>%
#   filter(call_type == "SI")
# SI_mean <- mean(SI$dispatch_duration)
#
# PH <- jcpd %>%
#   filter(call_type == "PH")
# PH_mean <- mean(PH$dispatch_duration)
#
# C911 <- jcpd %>%
#   filter(call_type == "911")
# mean_911 <- mean(C911$dispatch_duration)
#
# MVS <- jcpd %>%
#   filter(call_type == "MVS")
# MVS_mean <- mean(MVS$dispatch_duration)
#
# STA <- jcpd %>%
#   filter(call_type == "STA")
# STA_mean <- mean(STA$dispatch_duration)
#
# IC <- jcpd %>%
#   filter(call_type == "IC")
# IC_mean <- mean(IC$dispatch_duration)
i <- 1
si <- ph <- c911 <- mvs <- sta <- ic <- c()
for(char in jcpd$call_type) {
switch(
char,
"SI" = append(si, jcpd$dispatch_duration[i]),
"PH" = append(ph, jcpd$dispatch_duration[i]),
"911" = append(c911, jcpd$dispatch_duration[i]),
"MVS" = append(mvs, jcpd$dispatch_duration[i]),
"STA" = append(sta, jcpd$dispatch_duration[i]),
"IC" = append(ic, jcpd$dispatch_duration[i])
)
i <- i + 1
}
mean(si)
mean(ph)
mean(c911)
mean(mvs)
mean(sta)
mean(ic)
ic
si
# unique(jcpd$call_type)
## I will use filter to calculate the differnt mean for different call type
# SI <- jcpd %>%
#   filter(call_type == "SI")
# SI_mean <- mean(SI$dispatch_duration)
#
# PH <- jcpd %>%
#   filter(call_type == "PH")
# PH_mean <- mean(PH$dispatch_duration)
#
# C911 <- jcpd %>%
#   filter(call_type == "911")
# mean_911 <- mean(C911$dispatch_duration)
#
# MVS <- jcpd %>%
#   filter(call_type == "MVS")
# MVS_mean <- mean(MVS$dispatch_duration)
#
# STA <- jcpd %>%
#   filter(call_type == "STA")
# STA_mean <- mean(STA$dispatch_duration)
#
# IC <- jcpd %>%
#   filter(call_type == "IC")
# IC_mean <- mean(IC$dispatch_duration)
i <- 1
si <- ph <- c911 <- mvs <- sta <- ic <- c()
for(char in jcpd$call_type) {
switch(
char,
"SI" <- append(si, jcpd$dispatch_duration[i]),
"PH" <- append(ph, jcpd$dispatch_duration[i]),
"911" <- append(c911, jcpd$dispatch_duration[i]),
"MVS" <- append(mvs, jcpd$dispatch_duration[i]),
"STA" <- append(sta, jcpd$dispatch_duration[i]),
"IC" <- append(ic, jcpd$dispatch_duration[i])
)
i <- i + 1
}
# unique(jcpd$call_type)
## I will use filter to calculate the differnt mean for different call type
# SI <- jcpd %>%
#   filter(call_type == "SI")
# SI_mean <- mean(SI$dispatch_duration)
#
# PH <- jcpd %>%
#   filter(call_type == "PH")
# PH_mean <- mean(PH$dispatch_duration)
#
# C911 <- jcpd %>%
#   filter(call_type == "911")
# mean_911 <- mean(C911$dispatch_duration)
#
# MVS <- jcpd %>%
#   filter(call_type == "MVS")
# MVS_mean <- mean(MVS$dispatch_duration)
#
# STA <- jcpd %>%
#   filter(call_type == "STA")
# STA_mean <- mean(STA$dispatch_duration)
#
# IC <- jcpd %>%
#   filter(call_type == "IC")
# IC_mean <- mean(IC$dispatch_duration)
i <- 1
si <- ph <- c911 <- mvs <- sta <- ic <- c()
for(char in jcpd$call_type) {
c <- switch(
char,
"SI" <- append(si, jcpd$dispatch_duration[i]),
"PH" <- append(ph, jcpd$dispatch_duration[i]),
"911" <- append(c911, jcpd$dispatch_duration[i]),
"MVS" <- append(mvs, jcpd$dispatch_duration[i]),
"STA" <- append(sta, jcpd$dispatch_duration[i]),
"IC" <- append(ic, jcpd$dispatch_duration[i])
)
i <- i + 1
}
# unique(jcpd$call_type)
## I will use filter to calculate the differnt mean for different call type
# SI <- jcpd %>%
#   filter(call_type == "SI")
# SI_mean <- mean(SI$dispatch_duration)
#
# PH <- jcpd %>%
#   filter(call_type == "PH")
# PH_mean <- mean(PH$dispatch_duration)
#
# C911 <- jcpd %>%
#   filter(call_type == "911")
# mean_911 <- mean(C911$dispatch_duration)
#
# MVS <- jcpd %>%
#   filter(call_type == "MVS")
# MVS_mean <- mean(MVS$dispatch_duration)
#
# STA <- jcpd %>%
#   filter(call_type == "STA")
# STA_mean <- mean(STA$dispatch_duration)
#
# IC <- jcpd %>%
#   filter(call_type == "IC")
# IC_mean <- mean(IC$dispatch_duration)
i <- 1
si <- ph <- c911 <- mvs <- sta <- ic <- c()
for(char in jcpd$call_type) {
switch(
char,
"SI" <- append(si, jcpd$dispatch_duration[i]),
"PH" <- append(ph, jcpd$dispatch_duration[i]),
"911" <- append(c911, jcpd$dispatch_duration[i]),
"MVS" <- append(mvs, jcpd$dispatch_duration[i]),
"STA" <- append(sta, jcpd$dispatch_duration[i]),
"IC" <- append(ic, jcpd$dispatch_duration[i])
)
i <- i + 1
}
library(tidyselect)
sum(str_detect(jcpd$call_code_description, "GUNSHOTS") == TRUE)
library(stringr)
sum(str_detect(jcpd$call_code_description, "GUNSHOTS") == TRUE)
jcpd_gunshots <- which(str_detect(jcpd$call_code_description, "GUNSHOTS") == TRUE)
jcpd_gunshots
jcpd_gunshots_row <- which(str_detect(jcpd$call_code_description, "GUNSHOTS") == TRUE)
jcpd_gunshots <- jcpd[jcpd_gunshots_row, ]
jcpd_gunshots_row <- which(str_detect(jcpd$call_code_description, "GUNSHOTS") == TRUE)
jcpd_gunshots <- jcpd[jcpd_gunshots_row, ]
jcpd_gunshots
